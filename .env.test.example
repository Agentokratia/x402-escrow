# ===========================================
# x402 Escrow Integration Test Configuration
# ===========================================
# Copy this file to .env.test and fill in your values
# NEVER commit .env.test to version control!

# -----------------
# Supabase (Required)
# -----------------
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key

# -----------------
# CDP Server Wallet (Required for API tests)
# Get from: https://portal.cdp.coinbase.com
# -----------------
CDP_API_KEY_ID=
CDP_API_KEY_SECRET=
CDP_WALLET_SECRET=
CDP_FACILITATOR_ADDRESS=0x...

# -----------------
# Direct Test Wallets (For contract-level tests)
# -----------------
# Private key for facilitator (used in direct contract tests)
# Must have Base Sepolia ETH for gas
# Format: 0x followed by 64 hex characters
FACILITATOR_PRIVATE_KEY=0x...

# Private key for a test wallet that will act as the payer
# Must have Base Sepolia USDC for deposits
# Get testnet USDC from: https://faucet.circle.com/
TEST_PAYER_PRIVATE_KEY=0x...

# -----------------
# API Key (Optional)
# -----------------
# Existing API key for the escrow service
# If not provided, tests will create one
# Format: x402_ followed by 64 hex characters
TEST_API_KEY=x402_...

# -----------------
# Network Configuration
# -----------------
# Base Sepolia (testnet) - default for integration tests
TEST_NETWORK_ID=eip155:84532
TEST_CHAIN_ID=84532

# Base Sepolia USDC address
TEST_USDC_ADDRESS=0x036cbd53842c5426634e7929541ec2318f3dcf7e

# Escrow contract addresses (Base Sepolia)
TEST_ESCROW_CONTRACT=0xbdea0d1bcc5966192b070fdf62ab4ef5b4420cff
TEST_TOKEN_COLLECTOR=0x0e3df9510de65469c4518d7843919c0b8c7a7757

# -----------------
# Test Parameters
# -----------------
# Amount to authorize for test sessions (in USDC wei, 6 decimals)
# Default: 1000000 = $1.00 USDC
TEST_AUTHORIZE_AMOUNT=1000000

# Amount to debit per test request (in USDC wei)
# Default: 10000 = $0.01 USDC
TEST_DEBIT_AMOUNT=10000

# -----------------
# JWT (for payer route tests)
# -----------------
JWT_SECRET=test-jwt-secret-min-32-characters-long
